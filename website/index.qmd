---
title: "Kimchi Gold ğŸ’°ğŸ“ˆ"
format:
  html:
    code-fold: true
jupyter: python3
---

This dashboard tracks the "Kimchi Premium" on gold prices in Korea compared to international rates.
Data is updated daily.

```{python}
#| label: load-data
#| warning: false

import pandas as pd
import plotly.express as px
import plotly.graph_objects as go
from pathlib import Path

# Load data
# The website directory is one level down from root, so data is at ../data
data_path = Path("../data/kimchi_gold_price_log.csv")
df = pd.read_csv(data_path)
df['ë‚ ì§œ'] = pd.to_datetime(df['ë‚ ì§œ'])

# Calculate International Gold Price in KRW/g
# 1 Troy Ounce = 31.1034768 grams
df['International_KRW_g'] = df['êµ­ì œê¸ˆ(ë‹¬ëŸ¬/ì˜¨ìŠ¤)'] * (1 / 31.1035) * df['í™˜ìœ¨(ì›/ë‹¬ëŸ¬)']
```

## 1. Kimchi Premium (%) ğŸ“Š

The percentage difference between domestic and international gold prices.

```{python}
#| label: plot-premium

fig1 = go.Figure()
fig1.add_trace(go.Scatter(
    x=df['ë‚ ì§œ'], 
    y=df['ê¹€ì¹˜í”„ë¦¬ë¯¸ì—„(%)'],
    mode='lines',
    name='Kimchi Premium (%)',
    line=dict(color='red')
))

fig1.update_layout(
    title='Kimchi Premium (%) Trend',
    xaxis_title='Date',
    yaxis_title='Premium (%)',
    hovermode='x unified'
)
fig1.show()
```

## 2. Domestic vs International Gold Price âš–ï¸

Comparison of domestic gold price (KRW/g) vs international gold price converted to KRW/g.

```{python}
#| label: plot-price-comparison

fig2 = go.Figure()
fig2.add_trace(go.Scatter(
    x=df['ë‚ ì§œ'], 
    y=df['êµ­ë‚´ê¸ˆ(ì›/g)'], 
    mode='lines', 
    name='Domestic Gold (KRW/g)'
))
fig2.add_trace(go.Scatter(
    x=df['ë‚ ì§œ'], 
    y=df['International_KRW_g'], 
    mode='lines', 
    name='International Gold (KRW/g, FX adjusted)'
))

fig2.update_layout(
    title='Domestic vs International Gold Price',
    xaxis_title='Date',
    yaxis_title='Price (KRW/g)',
    hovermode='x unified'
)
fig2.show()
```

## 3. Exchange Rate (KRW/USD) ğŸ’µ

The KRW/USD exchange rate trend.

```{python}
#| label: plot-exchange-rate

fig3 = go.Figure()
fig3.add_trace(go.Scatter(
    x=df['ë‚ ì§œ'], 
    y=df['í™˜ìœ¨(ì›/ë‹¬ëŸ¬)'],
    mode='lines',
    name='Exchange Rate',
    line=dict(color='purple')
))

fig3.update_layout(
    title='Exchange Rate (KRW/USD)',
    xaxis_title='Date',
    yaxis_title='KRW/USD',
    hovermode='x unified'
)
fig3.show()
```

## 4. Kimchi Premium Table (Last 30 Days) ğŸ“…

Recent variation of the Kimchi Premium and gold prices.

```{python}
#| label: premium-table

# Prepare table data (last 30 days, newest first)
table_df = df.tail(30).iloc[::-1][['ë‚ ì§œ', 'ê¹€ì¹˜í”„ë¦¬ë¯¸ì—„(%)', 'êµ­ë‚´ê¸ˆ(ì›/g)', 'International_KRW_g']].copy()
table_df['ë‚ ì§œ'] = table_df['ë‚ ì§œ'].dt.strftime('%Y-%m-%d')
table_df.columns = ['Date', 'Premium (%)', 'Domestic (KRW/g)', 'International (KRW/g)']

# Display table
table_df
```

<br>
<small>Data Source: `data/kimchi_gold_price_log.csv`</small>
